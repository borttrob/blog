{"hash":"52bf16c19c3bf4b2b0d4d4d9221b2e753b0b937c","data":{"tag":{"title":"Vuetify","belongsTo":{"edges":[{"node":{"title":"How to embed a SVG in vuetify's v-btn?","path":"/how-to-embed-a-svg-in-vuetify-s-v-btn/","date":"21. November 2020","timeToRead":3,"description":"","content":"<p>Recently I stumbled into an a problem I didn't really expect. I needed to embed an SVG into Vuetify's <code class=\"language-text\">v-btn</code> as. This <strong>has</strong> to be a simple task, right?</p>\n<p>Our example SVG will be this circle.</p>\n  <img align=\"center\">\n<svg height=\"200\">    \n  <circle cx=\"100\" cy=\"100\" r=\"99\" stroke=\"black\" stroke-width=\"1\" fill=\"red\" />  \n</svg> \n  </img>\n<p>And the result should look like this.</p>\n<img src=\"embed-svg-in-v-btn/FinalResult.png\" align=\"left\">\n<h3 id=\"naive-approach\"><a href=\"#naive-approach\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Naive approach</h3>\n<p>My first approach was the way I imagined it should work. </p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- Doesn't work --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-btn</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 0 200 200<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>circle</span>\n              <span class=\"token attr-name\">cx</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>100<span class=\"token punctuation\">\"</span></span>\n              <span class=\"token attr-name\">cy</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>100<span class=\"token punctuation\">\"</span></span>\n              <span class=\"token attr-name\">r</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>99<span class=\"token punctuation\">\"</span></span>\n              <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>black<span class=\"token punctuation\">\"</span></span>\n              <span class=\"token attr-name\">stroke-width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span>\n              <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>red<span class=\"token punctuation\">\"</span></span>\n              <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>img</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-btn</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>The result looks as follows</p>\n<p>. <img src=\"embed-svg-in-v-btn/NaiveApproach.png\" align=\"left\" height=100></p>\n<p>The natural reflex is to manupulate the <strong>height and width parameters</strong>, but this doesn't work as imagined and produces similar results.</p>\n<h3 id=\"slightly-less-naive-approach\"><a href=\"#slightly-less-naive-approach\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Slightly less naive approach</h3>\n<p><a href=\"https://vuetifyjs.com/en/components/buttons/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">The vuetify documentation tells you</a> that the svg has to be embedded in a v-icon <strong>link hinzuf√ºgen</strong>. So I changed listing 1 to </p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- Doesn't work --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-btn</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-icon</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 0 200 200<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>circle</span>\n              <span class=\"token attr-name\">cx</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>100<span class=\"token punctuation\">\"</span></span>\n              <span class=\"token attr-name\">cy</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>100<span class=\"token punctuation\">\"</span></span>\n              <span class=\"token attr-name\">r</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>99<span class=\"token punctuation\">\"</span></span>\n              <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>black<span class=\"token punctuation\">\"</span></span>\n              <span class=\"token attr-name\">stroke-width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span>\n              <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>red<span class=\"token punctuation\">\"</span></span>\n              <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-icon</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-btn</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>But this produces just an empty button like this.</p>\n<img src=\"embed-svg-in-v-btn/NaiveApproach2.png\" align=\"left\" height=100>\n<p>No icon at all! Seemed I had to dig deeper for this <em>simple</em> task.</p>\n<h3 id=\"this-is-the-way-approach\"><a href=\"#this-is-the-way-approach\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><em>This is the way</em> approach</h3>\n<p>Turned out there were multiple problems at play at the same time. </p>\n<p><strong>First</strong> I screwed up the creation of <code class=\"language-text\">v-icon</code>. <a href=\"https://stackoverflow.com/questions/64934008/cant-display-svg-in-v-icon\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">The whole soluton is described here by @BeHappy</a> . But summarised one has to do the following.</p>\n<ol>\n<li>Create a template with the svg data</li>\n<li>Register the template as Icon in the vuetify configuration</li>\n<li>Use reference to the registered template in<code class=\"language-text\">v-icon</code></li>\n</ol>\n<p><strong>Second</strong> one has to scale the SVG. Turns out SVG scaling works totally different than normal <code class=\"language-text\">img</code>scaling. One hast to use the <code class=\"language-text\">viewBox</code> attribute.  <a href=\"https://wattenberger.com/guide/scaling-svg\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">A great interactive tutorial that describes the logic behind the viewBox attribute can be found here</a>. </p>\n<p>Plugging it all together we get: </p>\n<ol>\n<li><strong>Creating a template for our SVG</strong></li>\n</ol>\n<p><em>src/components/MySvgIcon.vue</em> </p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-img</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 0 200 200<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>circle</span>\n        <span class=\"token attr-name\">cx</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>100<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">cy</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>100<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">r</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>99<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>black<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">stroke-width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>red<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-img</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Pay attention to the <strong>height</strong> and <strong>width</strong> (3rd and 4th) values of the of the <code class=\"language-text\">viewBox</code>atteibute. These have to be larger or equal to the internal height and width of the SVG to make the whole SVG visible. As described in the link above, these parameters have nothing to do with the size of the rendered image.</p>\n<ol start=\"2\">\n<li><strong>Register the template as Icon in the vuetify configuration</strong></li>\n</ol>\n<p><em>src/plugins/vuetify.json</em> </p>\n<pre class=\"language-html\"><code class=\"language-html\">import Vue from \"vue\";\nimport Vuetify from \"vuetify/lib\";\nimport MySvgIcon from \"@/components/MySvgIcon\";\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n  icons: {\n    iconfont: \"mdi\", // default - only for display purposes\n    values: {\n      mySvgIcon: { component: MySvgIcon }\n    }\n  }\n});</code></pre>\n<ol start=\"3\">\n<li><strong>Use reference to the registered template in<code class=\"language-text\">v-icon</code></strong></li>\n</ol>\n<p><em>App.vue</em></p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-app</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-main</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-btn</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ma-5<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-icon</span><span class=\"token punctuation\">></span></span>\n          $mySvgIcon\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-icon</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-btn</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-main</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-app</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n\n<span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">\"App\"</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function-variable function\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>The whole example can be found <a href=\"https://github.com/borttrob/embed-svg-in-v-icon.git\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here on Github</a>. Hope this helps someone to spare some time with this Problems. Cheers.</p>\n<h3 id=\"references\"><a href=\"#references\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>References</h3>\n<p>Full example Github: <a href=\"https://github.com/borttrob/embed-svg-in-v-icon.git\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/borttrob/embed-svg-in-v-icon.git</a></p>\n<p>Great interactive tutorial for <code class=\"language-text\">viewBox</code> attribute <a href=\"https://wattenberger.com/guide/scaling-svg\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://wattenberger.com/guide/scaling-svg</a></p>\n<p>Usage of <code class=\"language-text\">v-icon</code>in <code class=\"language-text\">v-btn</code> <a href=\"https://stackoverflow.com/questions/64934008/cant-display-svg-in-v-icon\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://stackoverflow.com/questions/64934008/cant-display-svg-in-v-icon</a></p>\n"}}]}}},"context":{}}